<title>Overview on the main parameters and technology of modern Silicon Photomultipliers</title>
<Affiliation>a  Broadcom Inc., WernerwerkstraÃŸe 2, 93049  Regensburg, Germany
b  Fondazione Bruno Kessler, via Sommarive 18, 38123  Trento, Italy</Affiliation>
<author>Claudio Piemonte a,âˆ—, Alberto Gola b</author>
<year>2018</year>
<Jounral>Nuclear Inst. and Methods in Physics Research, A</Journal>
<Publishing_house>Elsevier BV</Publishing_house>
<Text_Collector>ç”°è‹—ï¼ŒBFSU</Text_Collector>
<DOI>10.1016/j.nima.2018.11.119</DOI>
<URL>https://doi.org/10.1016/j.nima.2018.11.119</URL>
ABSTRACT
In this paper, we give an overview of the main properties and technological implementation of densely packed Single-photon Avalanche Diode arrays, which are commonly known as Silicon Photomultipliers, or SiPMs. These detectors feature high internal gain, single-photon sensitivity, a high Photon Detection Efficiency, proportional response to weak and fast light flashes, excellent timing resolution, low bias voltage, ruggedness and insensitivity to magnetic field. They compare favorably to the traditional Photomultiplier Tube in several applications. In this overview paper, we go through the SPAD/SiPM theory of operation, the modern SiPM implementations and the typical technological options to build the sensor. This is done in conjunction with the description of the main SiPM parameters, such as the Photon Detection Efficiency, the electrical properties, the primary and correlated noise sources and the Single Photon Time Resolution.
Keywords:
Single-photon Avalanche Photodiodes Silicon Photomultipliers
1.Introduction
The detection of weak light, down to the single photon is important in many applications. Most common examples are the sensing of light from scintillators in high-energy radiation detection, direct light sensing in distance measurement and fluorescence lifetime systems or low- light level imaging. In some systems only light intensity measurement is needed whereas in others also a precise estimation of the photon arrival time is required.
There are different technologies used for low-level light detection. When no timing information is needed technologies such as Silicon Drift
Fig. 1. (a) 1D sketch of a possible doping structure of a SPAD and electric field strength in operation mode. (b) Basic electrical model of a SPAD with a resistor (ğ‘…Q) as the quenching element.
Detectors [1] or (EM)-CCDs can be used [2]. Traditionally, in pulsed operation, when timing is required, vacuum technologies â€“ Photomul- tiplier Tubes (PMTs), Micro-channel Plates (MCPs), Hybrid Photodiodes (HPDs) â€“ or Avalanche Photodiodes (APDs) are the choice [2].
In the past fifteen years we have been assisting to an increasing in- terest and development to a different class of Avalanche Photodiodes re- ferred to as Geiger-mode Avalanche Photodiodes (GM-APDs) or Single- Photon Avalanche Diodes (SPADs). Even though the concept is not new, in recent years the technology improved considerably and large arrays are made available. These devices feature photon counting capability with excellent timing information, thus, they are a natural replacement of vacuum-based technologies in many existing applications. The main advantages of SPADs come from the fact that they exploit a solid-state (mainly silicon) technology: compactness, ruggedness, reliability, wide sensitivity range, high-volume production capability and low cost. Such
features are also enabling a completely new class of applications in the automotive, industrial and consumer technology sectors for distance measurements, low-light level and 3D imaging.
In this paper, we give an overview of SPAD theory and parameters along with technological concepts to produce devices with optimized performance. After a general introduction of the SPAD basic functioning, we focus our description to SPAD arrays made on silicon. Often, in the paper, we will refer to Silicon Photomultipliers (SiPMs) which are SPAD arrays with maximized fill factor and usually combining the signal of each element to a common output.
We would like to point out that, due to the limited space available
in this paper, our attention will be focused on the topic of technological approaches used to realize state-of-the art SiPMs. We will not cover other interesting aspects, such as the history of SiPM development, from their origins to recent years, alternative SiPM technologies and non-silicon SPADs.
2.Basic operation of SPAD and SiPM
Key elements of a SPAD are the high-electric field region in which a divergent multiplication by impact ionization takes place and an external circuit, which quenches the discharge. The basic understanding and modeling of a diode in this operation mode was investigated in the 60s while studying â€˜â€˜micro-plasmas instabilitiesâ€™â€™ [3,4]. Then, the same authors proposed this structure for the detection of single photons [5]. Fig. 1 shows a basic representation of the internal structure of a SPAD and the electrical model including also the external elements. The SPAD is usually formed by an abrupt junction, n+/p in the example shown    in the picture. The p side features a lowly doped layer (ğœ‹) and an enrichment box (p). Under reverse bias condition, the p-side is fully depleted forming the electric field shown on the right side of Fig. 1a. The top part (with high electric field) is the multiplication region whereas the bottom part is the drift region which is needed to drift the photo- generated electrons to the high field zone. The bias point is set above the breakdown voltage (ğ‘‰BD) so as a carrier can trigger a divergent
Fig. 2. Currents flowing during a discharge of the SPAD.
multiplication when crossing  the  electric  field  peak.  The  functioning  is modeled by the circuit in Fig. 1b. The SPAD is composed by the junction capacitance at the operation voltage (ğ¶D), the space-charge resistance of the avalanche region (ğ‘…S), a voltage source set at ğ‘‰BD  and    a switch. External to the SPAD there is the bias supply and a lumped series resistor (ğ‘…Q). Besides the circuital elements, the model includes  two probabilities which act on the switch. They are called avalanche breakdown triggering probability (ğ‘ƒT) and quenching probability (ğ‘ƒQ). The current flowing through the switch and the external current  are  called ğ¼INT and ğ¼EXT, respectively.
The sequence of events,  which  leads  to  the  current  signals  shown in Fig. 2 is the following. In steady conditions the switch is open, the diode capacitance, ğ¶D, is charged at the bias voltage and no currents are flowing in the circuit. When a carrier crosses the high-field region, it may trigger a divergent avalanche with a probability ğ‘ƒT. If the avalanche starts  (ğ‘¡0),  the  switch  closes  so  the  junction  capacitance  discharges, from ğ‘‰BIAS to ğ‘‰BD, through ğ‘…S. ğ¼INT will decrease exponentially from (ğ‘‰BIAS-ğ‘‰BD)/ğ‘…S while ğ¼EXT will increase with the same time constant
ğ¶Dğ‘…S. Both currents would tend to the same steady state current value (ğ‘‰BIAS-ğ‘‰BD)/ğ‘…Q. Reaching this condition, the avalanche may quench with a probability ğ‘ƒQ. When this happens (ğ‘¡1), the switch moves again to the open state. ğ¼INT goes suddenly to 0 whereas ğ¼EXT starts decreasing
exponentially while ğ¶D recharges to its original bias. The recharging time constant is ğ¶Dğ‘…Q. More parasitic components can be added to  the circuit according to the SPAD configuration. For example, if ğ‘…Q    is integrated in the sensor a parasitic capacitance may be present in parallel to ğ‘…Q itself creating a low impedance path for the fast ğ¼INT current towards the external part of the circuit [6].
The two probabilities, ğ‘ƒT and ğ‘ƒQ, are key elements of a SPAD. The avalanche breakdown triggering probability (or simply called triggering probability) gives the percentage of the photo-generated carriers that will produce a Geiger discharge so it will be a relevant factor in the efficiency of the sensor. More insight into ğ‘ƒT will be given in the photo- detection efficiency section. The quenching probability is the probability that the number of carriers crossing the high-field region fluctuates to zero at a certain time. In this condition the avalanche can extinguish.
ğ‘ƒQ depends on the current value flowing through the junction (ğ¼INT)  at a certain time. Haitz quantifies ğ‘ƒQ as the mean duration of the steady-state current with the switch in the on condition [4]. For a current lower than 20 Î¼A, the duration is on average less than a few  ns. For higher values the average duration and its fluctuation increases very rapidly. The 20 Î¼A threshold sets a minimum value for ğ‘…Q. As    a rule of thumb ğ‘…Q has to increase by 50 kÎ© for each Volt above the breakdown voltage. For example, if we want to operate at a ğ‘‰BIAS of
ğ‘‰BD+5 V, we need a resistor value of at least 250 kÎ©. Following this design rule, the quenching mechanism is fast and both the signal shape and the amount of carriers generated (Gain) is reproducible. The simple quenching resistor described above can be replaced by an active circuit to provide a higher degree of freedom on the choice of the off- and recharge time after the avalanche. First examples of this approach are given in [7].
The mechanism of the multiplication process (so-called avalanche build-up) has been studied using MonteCarlo simulations [8]. The very first steps of the multiplication, involving few carriers, are very different from event to event. This leads to different initial current growth. As the process develops, a narrow â€˜â€˜filamentâ€™â€™ with high carrier density is locally created. At this stage also lateral diffusion starts, extending the avalanche over the junction area. If there is no quenching mechanism the avalanche spreads all over the high-field region. If the avalanche is quenched (as described above) the lateral diffusion is usually limited to a few micrometers around the starting point [9]. Lateral diffusion may be also assisted by photon emission. Carriers created during the avalanche build-up may emit photons that can be absorbed in another location of the high-field region generating a second filament. This process speeds up the current growth.
As a first order approximation, the SPAD provides the same signal amplitude/charge regardless whether one or more (photo-generated) carriers trigger the avalanche, so it cannot be used to count photons    in a fast (shorter than the recharge time) light flash. To overcome this limitation, the single SPAD can be ideally segmented into an array      of equal and independent tiny SPADs. In this way, each photon may interact with a different SPAD so that the combination of the signals gives proportional information. The response of the SPAD array is linear (every photon in a different SPAD) given that the number of photons in the light flash is low compared to the number of elements.
The easiest way to combine the SPADs of the array is to connect them in parallel. This sensor, usually referred to as analog Silicon Photomultiplier (aSiPM), features an array of densely packed SPADs
(called  also  cells  or  microcells),  each  one  with  its  own quenching
two cases is very different. In case of aSiPMs, the fabrication process is fully customized (still using standard CMOS equipment) to optimize the performance of the sensor both in terms of efficiency and noise.   In case of dSiPM, a deep-submicron CMOS technology is required to integrate efficiently digital electronics on the SPAD. The two approaches have their own advantages: in the first case the SiPM electro-optical features can be optimized without any limitation possibly imposed by the integration of electronics whereas in the second, local digitization and data processing allow to add intelligence to the sensor enabling also high spatial resolution imaging. A further approach which is attracting more and more interest in the SPAD community is 3D integration. In this case the advantages of both the previous approaches can be preserved by a vertical interconnection of each SPAD or group of SPADs to a second electronic layer. One of the first examples of SPAD 3D integration is reported in [14].
In the following sections of this paper we will focus on the internal structure of the SPAD, when integrated in dense arrays, correlating the different parts to performance parameters. Since most of the work on SPAD array performance optimization is done on aSiPMs, we will often refer to custom technologies.
3.SiPM parameters vs. internal structure
There is a complex relation between the SiPM performance pa- rameters and the technological implementation of the different parts composing the device. The parameters which we will discuss in this paper are:
(1)Breakdown voltage;
(2)Photo-detection efficiency (PDE), i.e. the ratio between the average number of detected and impinging photons;
(3)Primary Noise, meaning randomly firing cells in dark condition. It is measured by the Dark Count Rate, DCR [counts per second, cps].
(4)Correlated Noise, caused by cells firing in correlation with a previous event. It is usually measured by the excess noise factor (ENF) or by the fraction of events manifesting a correlated event.
(5)Single-Photon Time Resolution (SPTR), meaning the precision in the estimation of the arrival time of single photons.
The most important parts of a SPAD integrated in an array are shown in Fig. 3. The core is the abrupt junction which can be either n+/p      or p+/n, shallow or buried. The second component is the high-field region. It is usually created by tailoring the dopant profile of the low- doped side of the junction. The area covered by this layer defines the active region of the device (where the Geiger discharge takes place). The third component is the drift region. It is a low dopant zone between the high-field layer and the backside contact. This latter is presented  by a highly doped silicon substrate. At the edges we find two highly integrated structures. The first is the guard ring which is needed to provide a smooth and fast transition of the electric field to low values. The second is the isolation structure which separates electrically one cell to the other. Depending on the implementation, it can have other important functions.
3.1.The breakdown voltage
The breakdown voltage, ğ‘‰BD, defines the minimum bias above which
resistor, integrated on a single substrate. The current signal of the SiPM is the sum of the ğ¼EXT from each cell fired by a photon. The amplitude and/or the charge of the signal are proportional to the light intensity. First examples of aSiPMs were reported in [10â€“12]. Alternatively, the SPAD signal may be locally digitized allowing data processing on the sensor itself. In such a case, deep sub-micron CMOS technology is used. This approach is usually referred to as CMOS SPAD array or digital Silicon photomultiplier (dSiPM). One of the first CMOS SPAD developments is reported in [13]. The technological approach in the
the diode operates in Geiger more. Its value, its uniformity from device to device and its temperature dependence are relevant factors in all applications.
The impact ionization mechanism is usually expressed using the impact-ionization rates ğ›¼n and ğ›¼p. They are the average rate of sec- ondary electronâ€“hole (eâ€“h) pair generated by impact ionization per unit distance traveled by an electron or hole, respectively. The process prescribes that carriers are accelerated to  energies  high  enough  to free more electronâ€“holes pairs during collisions with the lattice. The
Fig. 3. Schematic representation of a SPAD in a SiPM ( a) cross-section and b) top view).
generation rate in steady-state due to impact ionization GR, in a certain position, is given by the equation
@1
where ğ½n,p are the electron and hole current densities. By definition, avalanche breakdown (or Geiger discharge) occurs when the generation rate becomes sufficiently high to lead to a diverging process. With some mathematical calculation, it can be found that this  point  is  reached  under the following condition [15]:@2
where ğ‘Š is the extension of the high-field region. The right term is
called ionization integral and it depends only on the ionization rate values along the electric field lines and the spatial extension. The ionization coefficients are usually expressed as a function of the electric field (local approximation). Different models have been developed [15]. Using a TCAD simulator, it is possible to calculate the electric field distribution in a realistic structure (solving the Poisson equation) and from that derive the ionization integral along the trajectories followed by the carriers. This approach leads to an approximate estimation of the breakdown voltage. More complex and accurate physical models can be used by TCAD software in which the carrier mobility and the ionization coefficients are a function of the electron and hole mean temperature (Energy) rather than on the local electric field. The local models usually over-estimate the ionization rates, especially in case of high gradients of the electric field, because they do not consider the space needed by the carrier to reach the ionization energy.
In [16] a study on the main breakdown voltage properties was carried out with both TCAD simulations and experimental data from SiPM devices with different active region. The following trends were observed:
â€¢Given a certain high-field region, ğ‘‰ğµğ· increases with the thickness of the depletion region. The reason is that the potential is distributed over a thicker depleted width. This slows down the growth of the electric field in the peak region for a given bias voltage growth.
â€¢The temperature dependence of ğ‘‰ğµğ· increases with the thickness of the depletion region. The mean free path for non-ionizing events decreases with increasing temperature leading to an increase of the electric field required to set the diverging avalanche process. The applied reverse voltage is the integral of the electric field over the depletion region, so the required ğ›¥ğ‘‰BIAS to lead again to junction breakdown after a temperature increment ğ›¥T will be smaller in narrow depletion regions than in wide ones. As a direct conse- quence, the breakdown voltage temperature coefficient increases with increasing depletion layer width.â€¢The reproducibility of the breakdown voltage is higher in thin depletion regions. ğ‘‰BD strongly depends on the dopant concentration in the active area. Every  fluctuation,  on  the  wafer  and/or  from  wafer  to wafer leads  to  a  fluctuation  of  the  electric  field  which  in  turn translates into an amplified fluctuation of the ionization coefficients. Dopant and thickness uniformity of the depletion region as well as dose and energy of implantations should be carefully tuned. In any case, the impact of unavoidable small structural variations on ğ‘‰BD uniformity is weaker in thin depletion
regions for the same reason mentioned in the previous point.
is convenient. This is possible for short wavelength light having a
shallow absorption in silicon. For red/NIR light breakdown uniformity and temperature stability may become an issue.
3.2.Photo-detection efficiencyThe Photo-Detection Efficiency is the first parameter to consider for the detector design. Depending on the application, we may have very different requirements in terms of wavelength sensitivity. It may span from the detection of scintillation light in liquid Xenon (around 170 nm) [17] or inorganic scintillators (usually peaked in the near UV/blue) [18] to Lidar systems (typically using red or near-infrared lasers). The light absorption coefficient in silicon for such a broad wavelength range varies by several orders of magnitude. Furthermore, in case of small SPADs, the fraction of the active to total SPAD area may be small and challenging to recover. It is clear that, to cope with such different requirements, the SiPM structure has to be customized for maximum PDE.
In order to analyze the impact of different technological choices, we split the PDE in three factors [12] as shown in Eq. (3):
@3
where QE is the quantum efficiency, i.e. the probability for an impinging photon to create a primary electronâ€“hole pair in the active volume; FF       is the SiPM cell fill factor, i.e. the active-to-total area ratio of the cell;
ğ‘ƒT is the avalanche breakdown triggering probability (or Geiger discharge probability ) introduced in the previous paragraph. All factors depend on the wavelength and bias voltage.
3.2.1.Quantum efficiency
The quantum efficiency is a combination of two factors: the prob- ability for a photon to cross the antireflective coating (ARC) formed  on the detector surface and the probability for a photon to create a
carrier that reaches the high-field region. The ARC may consist of a stack of various dielectric layers (most common are silicon dioxide and silicon nitride) and should be optimized according to the application conditions, such as the wavelength, the angle of incidence of impinging photons, the refractive index of the material on top of the device (air, water, scintillator crystals and liquids). The second factor is related to the absorption depth of photons in the semiconductor coupled to the collection properties of the photo-generated carriers. The absorption depth grows with the wavelength (see as an example [19]). In silicon, it is in the 10 nm range for UV light, thus the photons are absorbed very close to the detector surface. It grows to few microns in the  visible range and reaches few tens of microns in the near IR (900 nm). Depending on the wavelength used in the application, the thickness of the active silicon has to be chosen according to the absorption depth. For very short wavelengths, the drift region may be completely removed. Furthermore, the absorption depth is so small that the carriers are mainly photo-generated in the un-depleted highly-doped shallow layer. For this reason, this layer has to be properly designed to minimize recombination and to promote the drift/diffusion of carriers towards the high-field region.
In case of long wavelengths, it is not easy to design SPADs (especially with a small size) with a drift region thickness adequate to absorb most of the photons. First of all, to provide high electric field strength over  a thick depletion layer we need to apply a high operating voltage. But, even worse, the drift field in thick layers, i.e. comparable to the SPAD size, is strongly distorted by the border effects, and photo-generated carriers tend to flow towards the outer guard ring instead of the active region. This inefficient charge transport can be accounted for in the fill factor term as described in the next paragraph. One possible solution  to avoid very thick depletion layers is to reflect the light back into the active layer with a mirror placed on the side opposite to the entrance one. In 2008, Politecnico di Milano proposed a Fabryâ€“PÃ©rot cavity to enhance the optical field inside the SPAD at resonant wavelengths [20]. Such a resonant cavity was formed using a buried reflector and the airâ€“ semiconductor top interface. This approach enables much higher PDE at the same depletion region thickness. The main drawback is that the resonant peaks are very sharp and strongly depend on the thickness of the various layers. Following a more general concept of light trapping, a new design with nano-structures on the top surface has been recently used in a SPAD [21] to diffract the vertically incident photons into a horizontal waveguide mode, and thus trap the photons in the thin-film to enhance PDE.
Another aspect related mostly to long-wavelength light detection is that photo-generation may happen in the thick un-depleted substrate present in most of the common SiPM structures. According to the carrier lifetime properties of this region, some photo-carriers may reach the depleted region by diffusion increasing the overall QE. Signal events triggered by carriers generated in this part are delayed in time compared to the prompt response of carriers generated in the depleted region. Depending on the application, this may be a problem rather than an advantage (higher QE) since it extends the overall signal duration and produces a long tail in the timing response.
3.2.2.Avalanche breakdown triggering probability
In 1972, W.G. Oldham proposed a model to calculate the triggering probability in Geiger-mode avalanche photodiodes [22]. The triggering probability, ğ‘ƒT, for an eâ€“h pair generated at a certain position x in the device is linked to  the  electron,  ğ‘ƒe(x),  and  hole,  ğ‘ƒh(x),  probabilities to trigger an avalanche discharge. The expressions of ğ‘ƒe and ğ‘ƒh are governed by the ionization rates of electrons and holes, respectively, which have the following properties: they increase with  the  electric  field; the ionization rate is  higher  for  electrons  compared  to  holes (e.g., at 5 Ã— 105 V/cm, the ratio is about 2). These features are directly reflected onto ğ‘ƒe and ğ‘ƒh and, consequently, onto the total triggering probability: ğ‘ƒT increases with the bias voltage; electrons  are  always much more efficient than holes in triggering the avalanche.
In Fig. 4, we show a schematic representation of the triggering probability as a function of the carrier generation depth for two possible junction configurations: n+/p and p+/n. Since holes move towards the p electrode while electrons move towards the n electrode, the maximum
ğ‘ƒT is located in the region where the electrons can cross the whole high- field zone. In case of the n+/p junction it is the drift region (ğœ‹), in case of the p+/n it is adjacent to the junction within the p+ layer.
In case of light illumination, the eâ€“h generation position in the semiconductor follows a decreasing exponential distribution with a coefficient depending on the wavelength. Thus, to obtain the overall
ğ‘ƒT of a certain SiPM structure, for a certain wavelength, we have to convolve the light absorption probability function with the point-by- point ğ‘ƒT values as shown in Fig. 4. In case of very short wavelength the most convenient structures are a buried n+/p junction (light entrance on p+ layer) or a shallow p+/n. In principle, the ğ‘ƒT of the two structures is equivalent for UV/blue light because the maximum ğ‘ƒT layers can be easily designed to contain the whole absorption depth. When moving to the green part of the light spectrum, the buried junction approach shows a better behavior because the drift region can be made thicker while the junction depth of the second configuration is more difficult to tailor. In case of NIR light (700â€“900 nm), the best option is always an n+/p junction with illumination either from the junction or from    the drift side. Indeed, the thickness of the high-field region is negligible compared to the absorption depth and all the photo-generation happens in the drift zone.
The behavior of the triggering probability, and in particular the over- voltage at which it reaches 95% (defined  as  saturation  voltage),  for  n+/p and p+/n SPAD structures illuminated from the junction side was experimentally measured and compared in [23]. The structures have similar junction depth and electric field shape. The ğ‘ƒT saturation voltage as a function of the wavelength is shown in Fig. 5. As expected, the     two junction types feature opposite trends and are consistent with the behavior of ğ‘ƒe and ğ‘ƒh. The saturation values at short wavelengths are purely determined by either electrons or holes depending on the struc- ture, while for  long  wavelengths  the  contribution  of  the  two  carriers is always mixed and depends on the thickness of the various layers. Focusing on the UV region, the measured saturation voltage for electrons is about 5 V whereas for holes is above 50 V. The clear change of slope at
390 nm provides an indication of the junction depth since it corresponds to the point in which the photo-generation takes place also beyond the junction itself. The complete absorption of photons at 390 nm is about 200 nm, so this is approximatively the thickness of the shallow p+ or n+ layer. It is worth noting that the saturation overvoltage values and their wavelength dependence may slightly change for different field and junction configurations.
3.2.3.Fill factor
The fill factor term is linked to the presence of two inactive regions in the SPAD structure: the guard ring, which is needed to decrease quickly the electric field at the border (similarly as in linear avalanche photodi- odes) [24] and the isolation structure needed to provide electrical and (possibly) optical separation between the SPADs in a SiPM.
In the sketches of Fig. 6, three possible guard ring solutions are shown together with a representation of the electric field strength along a horizontal line located at the junction. In the first case no special precaution is taken at the border between the two SPADs. The n+ layers are isolated while the p enrichment is running without any interruption from one SPAD to the other. In this condition, the maximum electric field is located in proximity of the n+ border. This is due to the curvature effect on the corner which leads to a crowding of the potential lines. Such a situation likely leads to a premature breakdown in this region. In the second case the p layer is patterned to be within the n+ area. The curvature effect is still present but the potential lines are more spread due to the lower dopant level of the ğœ‹ layer at the n+ corner. In a well- designed structure, the peaks are much lower than the maximum electric field of the active area. In the third structure, a lowly doped n ring is
Fig. 4. Electric field and triggering probability for two structures: n+/p and p+/n. Junction is highlighted with a dashed line.
such electron layer. A narrow p layer, called p-stop, is an effective and easy solution. Another technique used in SiPMs is trench isolation. It consists in a narrow and deep recessed region surrounding the SPAD and filled with a dielectric layer. The trench should reach the opposite side of the active region (bottom of ğœ‹ zone). The benefit of this approach, especially if there is an absorbing/reflecting material inside the trench in between the dielectric layers protecting the walls, is a strong suppression of the optical cross-talk (see next section).
Guard ring and isolation structures have to be designed together to optimize the effectiveness and minimize the width. From the fill factor reported in the data sheet of recent SiPM products, the dead border region (distance between the border of the p layer and the center of the isolation structure) can be estimated in the range of 1 to 3 Î¼m, depending on the producer.
Fig. 5. ğ‘ƒT saturation voltage as a function of the light wavelength for a n+/p and p+/n junction.
Source: Redrawn from [23].
surrounding the SPAD active area to reduce the crowding effect. The choice between the second or third structure depends on many structural aspects such as the active area configuration, junction depth, depletion region depth, etc.
The rectangle shown in the central part between the two n+ layers depicts the electrical isolation structure. Usually, at the top silicon interface, an electron accumulation layer is formed because of the pres- ence of positive fixed charge in the silicon dioxide layers. The electron concentration may vary according to the dielectric layer structure, the silicon crystal orientation, the internal design and the radiation damage. In any case, especially in a shallow n+/p design we need to interrupt
In the sketches of Fig. 6, we represented the doped layers with sharp edges. As a matter of fact, this is not the case (both in the vertical    and horizontal directions) because of the straggle of the implanted ions and the diffusion due to thermal steps during the device fabrication. Considering the lateral edge of the p layer, the smooth transition causes a gradual reduction of the dopant ion concentration starting within the designed boundary of the active region to reach the base value (ğœ‹) outside of it. The combination of this effect together with the faster growth of the depletion region in the guard ring, determines a gradual transition of the electric field from the highest value (within the active area) to the lowest value (in the guard ring). This behavior is already represented in Fig. 6. Since the triggering probability strongly depends on the electric field strength, it will decrease quickly already within the designed boundary region which translates into a lower overall photo- detection efficiency. The width of this additional, partially-inactive boundary region depends on the p layer configuration and on the bias
Fig. 6. Examples of the border regions between two adjacent SPADs and electric field strength along a horizontal line running at the junction depth. The concepts are valid also for opposite doping polarities.
Fig. 7. Sketch of the PDE on a blue sensitive device. The effect of each factor of Eq. (3) is shown.
voltage. It can be modeled with an equivalent dead width to be added to the designed value of the SPAD layout. In [23], this value was estimated to be higher than 1 Î¼m leading to an effective fill factor consistently lower than the nominal one in small cells.
3.2.4.Overall PDE
Fig. 7 shows schematically the effect of each factor of Eq. (3) on the PDE of a blue sensitive device. Starting from PDE equal to 1, the first reduction comes from the Fill Factor which can be considered, as a first approximation, independent from the wavelength. The second reduction, wavelength dependent, is related to the QE. Usually, in blue sensitive SiPMs, the active layer is few micrometers thick so the QE drops quickly above 500 nm. Finally, the last reduction is from the triggering probability. In the sketch, ğ‘ƒT is saturated at 1 for short wavelengths where the avalanche is electron-initiated. On the other side, at long wavelengths, it is still growing with the voltage.3.3.Primary and correlated noise
We distinguish between two general categories of noise, primary noise and correlated noise. Primary noise is generated in the detector when the following sequence of events takes place:â€¢a carrier is generated in the silicon either by thermal generation or by tunneling;
â€¢it is collected in the depleted region of the SPAD and goes through the high-field region;
â€¢it triggers an avalanche Geiger discharge.
A Correlated noise event is an avalanche discharge triggered in the SiPM as a consequence of a previous avalanche discharge, either generated by a photon or by a noise event (primary or correlated). The correlated noise event develops with the same process as described above for the primary dark noise but the carrier generation (first step) has different physical origin and it is related to another event happening in the sensor.
3.3.1.Primary Dark Count Rate
We define the primary noise events as Primary Dark Counts, or pDCs. Generation, collection and trigger of primary dark counts are indepen- dent from each other. Thus, the number of these events in a given  time interval ğ›¥ğ‘¡ follows a Poisson distribution with parameter ğœ†*ğ›¥ğ‘¡, where ğœ† is the value of the Primary Dark Count Rate, or simply Dark Count Rate, or DCR (stationary Poisson point process). Correspondingly, the probability density function of the inter-arrival time between two subsequent pDCs follows an exponential distribution with parameter ğœ†, as in Eq. (4):
@4
Different physical phenomena are responsible for  primary  dark  counts generation in  SiPMs.  Thermal  generation  of  carriers  by  states in the bandgap can be modeled using Shockleyâ€“Readâ€“Hall (SRH) statis- tics [15]. In depleted silicon, the generation rate can be approximated    by:
@5
in which ğ‘›ğ‘– is the intrinsic carrier concentration in silicon, ğ¸0  is  the Fermi level of intrinsic material, ğ¸t is the energy level of the trap, ğ‘t is  the trapping center concentration, ğœ  is the capture cross section of the  trap for electron or holes and ğ‘£th is the thermal velocity of electrons or holes [15]. As a simplifying assumption, in Eq. (5) ğœ and ğ‘£th are assumed equal for electrons and holes. The quantities ğœğ‘’0 = ğœâ„0 = 1 are called electron and hole minority carrier lifetimes, respectivelyğ‘.ğ‘¡ğœğ‘£ğ‘¡â„
Fig. 8. Representation of the different sources of primary dark events and their location in the SPAD structure.
ğœg0 is called the generation lifetime. The reciprocal of ğœg0 is the rate at which eâ€“h pairs are generated in the depleted silicon. It is proportional     to the concentration of the trap and depends on its energy difference   from ğ¸0. Because of the cosh term, only traps with energy very close to the mid-bandgap contribute significantly to the generation of eâ€“h pairs     in depleted silicon with relatively low electric field magnitude.
When a high electric field is applied to silicon, SRH statistics changes because the rate at which electrons are captured and emitted by a trap is increased significantly by tunneling. The effect can be modeled by introducing in Eq. (5) a field-dependent factor ğœ [25]:
@6
Fig. 8 shows the plot of the magnitude of the electric field along the depth of the SPAD (as described in Fig. 4) along with the main sources of prompt dark events. Although direct tunneling (DT) is always present, in typical SPAD designs and at room temperature, field-enhanced SRH (FE-SRH) is dominant. Once the charge is generated in the high-field region, it drifts along the electric field lines and can immediately trigger an avalanche discharge with a probability that depends on the type of carrier and on the position of generation. Thus, the triggering probability of these carriers can actually vary between the purely hole and purely electron triggering probabilities. In the drift region, SRH   is the dominant generation effect. Obviously also noise carriers are collected by drift and reach the high-field region, where they can start a discharge. Depending on the polarity of the junction, the triggering probability can be either that of electrons or holes (as described in   Fig. 5).
It is interesting to point out that this feature can provide, in principle, a different Signal-to-Noise Ratio (SNR) for different types of junctions. For example, when a p+/n junction is used to detect near-UV light, ğ‘ƒT is mainly dominated by electrons, while the noise coming from below the high-field region is triggered by holes. On the contrary, if an n+/p type of junction is used (for the detection of NIR light), the triggering probability of both photo-generated carriers and thermally generated carriers is the same. As a matter of fact, the SNR dependence on the device structure can be more complex because the SRH generation below the high-field region is not necessarily the dominant component. Finally, there are two un-depleted regions of the SPAD, correspond-
ing to the entrance window at the surface, which is generally designed as thin as possible and the bulk, usually characterized by very high dopant
Fig. 9. DCR as a function of PDE at 400 nm, measured on a blue sensitive SiPM.
operating temperature. However, in typical SPAD structures operated at room temperature, the dominant source of pDC can be considered FE- SRH in the high-field region. The electric field strength plays a crucial role in activating certain generation centers. A careful engineering of the avalanche region is needed to reduce this noise source. Also the generation centers such as metal impurities, lattice defects and, in some cases, lithography defects have to be minimized. A typical measurement of the quality of a SiPM process, always reported in the data sheets, is the DCR per unit area, measured for example in cps/mm2.
It is interesting to notice that, in FE-SRH condition, generation depends on the bias applied to the SiPM. We define the overvoltage,  or ğ‘‰OV, as the voltage applied to the SiPM in excess to the breakdown voltage. When the overvoltage is increased, the magnitude of the electric field in the high-field region gets higher, increasing the tunneling to and from the trap and, thus, the generation rate. In pure SRH condition, the increase of the measured DCR with respect to the overvoltage is caused only by the increased triggering probability of thermally generated carriers. We would expect, thus, that the DCR saturates at some given value once the triggering probability reaches one. On the other hand, when field-enhanced effects are present, the generation keeps increasing
concentration. Minority carriers present in these regions, including
with the overvoltage even if ğ‘ƒ is one. This is the most common case in
those generated on the SPAD surface, can diffuse to the depleted region,
T
SiPMs.
where they drift to the high-field region and can trigger an avalanche. The avalanche process of this noise component can be initiated either from holes or electrons. For example, in a p+/n SPAD, electrons are collected by diffusion from the entrance window implant at the surface, while holes come from the backside.
The relative importance of the different primary noise components depends on several characteristics of the device as well as on the
This behavior is exemplified by Fig. 9, which shows a plot of the DCR as a function of the PDE at 400 nm, measured on a blue-sensitive SiPM [26]. The DCR is proportional to the PDE only in the first part of the curve; then, the growth is more than linear. This is due to the fact that, while the electron triggering probability (and thus the PDE) saturates at a certain overvoltage, the hole triggering probability and the
Fig. 10. Temperature dependence of the DCR.
FE-SRH generation of carriers do not. We would like to point out that other factors may also contribute to DCR increase with overvoltage: (i) the depletion region may increase to include semiconductor zones with high generation rate; (ii) at high ğ‘‰OV the virtual guard ring may be less effective contributing to dark counts generation.
The generation centers related to the FE-SRH are local, thus they af- fect a fraction of the SPADs in an array. For modern aSiPM technologies, they are rare (few percent). Such SPADs (called screamers) can have a DCR significantly (2 to 3 orders of magnitude) higher than the base DCR of all the others. In this condition, there is a distribution of DCR within the population of SPADs composing the SIPM. In aSiPMs all the cells are connected in parallel, so that the DCR of the SiPM is the sum of the DCR of the single SPAD composing it.
An effective approach is to disable the screamers of the SiPMs. This has been implemented in dSiPMs [27] with a CMOS logic placed in proximity of each SPAD. Because of the concurrent PDE reduction, the effectiveness of this technique depends on the fraction of SPADs that needs to be disabled in order to reach the desired value of DCR.
3.3.2.Primary Dark Count Rate dependence on temperature
Different noise sources feature different dependence on temperature. Fig. 10 shows, on a qualitative level, a plot of the SiPM DCR as a function of temperature, distinguishing between the three main contributions: diffusion, (FE-)SRH generation and direct tunneling. Although DCR is often plotted as a function of temperature for easier reading, as in the example shown above, it should be noted that the generation processes show an exponential dependence on 1âˆ•ğ‘‡  such that the Arrhenius plot is a more appropriate representation. Accordingly, the carrier generation and, thus, DCR dependence on temperature shows the following trend:@7
in which ğ¸a  is the activation energy of the specific generation process.Eqs. (5) and (6), reported in this paper, can be used to describe field- enhanced SRH generation, while other sets of equation are used for   the other noise sources, such as diffusion and direct tunneling (see for example [15]).
The diffusion component features the highest dependence on temper- ature, with an activation energy corresponding to the silicon bandgap
ğ¸a  =  ğ¸g  =  1.21  eV. Pure SRH shows an intermediate activation  energy
ğ¸a = ğ¸g/2 = 0.56 eV [15]. When a strong electric field is present, we have FE-SRH generation and the activation energy is reduced to less than ğ¸g/2. In FE-SRH condition, ğ¸a also depends on the bias voltage applied to the SiPMs because, as mentioned in the previous section, when the overvoltage gets higher, the amount of tunneling  to  and from the traps is increased, which enhances deviation from pure SRH statistics. Reduction of the activation energy with respect to ğ¸g/2 and increased dependence of ğ¸a  on the overvoltage has also been reported Fig. 11. Example for the temperature dependence of the DCR. LF stands for low electric field. SF stands for standard electric field.
Source: Redrawn from [28].
after irradiation. Finally, the direct tunneling component shows very weak temperature dependence, caused only by the variation of the Silicon bandgap with temperature [15].
As mentioned in the previous section, significant effort is dedicated to engineering the electric field in the high-field region, aiming, among other things, at reducing the FE-SRH component of the DCR. The main advantage is a general reduction of the DCR and a faster decrease of the DCR with cooling. This effect is especially important to moderate noise and power consumption of the SiPM after irradiation. For these reasons, a typical figure of merit of SiPM technologies is the decrease rate of DCR with temperature.
As an example of the variation of DCR with respect to temperature, Fig. 11 shows the DCR measured between 40 K and 300 K with a blue sensitive SiPM [28]. Two different technologies were considered during the measurements, identical in every aspect except for the magnitude of the electric field in the high-field region. In the case of low-field version (LF in the plot), the thickness of the high-field region is increased, which allows to reach breakdown condition with a lower peak value  of the electric field. We can observe that the DCR is similar and strongly suppressed with cooling in both technologies, down to 150 K. The difference appears approximately below that temperature, where generation starts to be dominated by DT. While DT is weakly dependent on temperature, it features strong dependence on the electric field so it rapidly increases with the overvoltage [25]. In this condition, the lower value of the electric field in the low-field version allows a DCR reduction by a factor larger than 20 with respect to the standard-field.
3.3.3.Optical cross-talk
When an avalanche is triggered, a large number of carriers, both electrons and holes, move by drift across the depleted region of the SPAD. For a passively quenched SPAD, this number is precisely defined as the gain of the SPAD at a given overvoltage. During this process, photons are emitted by the hot carriers passing through the high-field region, which we call â€˜â€˜crosstalk photonsâ€™â€™ [29]. We assume that they are emitted isotropically. Considering a SiPM, these photons can be absorbed in another SPAD or in a region close to it and generate a carrier that can subsequently be collected in the high-field region and trigger  a second avalanche. This phenomenon is defined as Optical Crosstalk (CT). The optical crosstalk probability depends on several factors which will be described in the following, including the emission spectrum of the crosstalk-photons, the number of emitted photons, the geometry   of the SPADs composing the SiPM, the presence of optically isolating structures between cells, the presence of package in which the SiPM is housed.
Fig. 12. Representation of a Prompt optical cross-talk event (pCT).
The spectrum of CT photons, ğ›·CT, is an important piece of in- formation for both the study and the design of SiPMs and for their optimization in applications. There is no agreement in literature about
ğ›·CT. Examples of different, incompatible measurements of this spectrum can be found in [29,30] and [31]. A possible explanation for this significant discrepancy is that the measurement  is  complicated  by  the following reasons: (i) the light emission is very faint; (ii) it is possible that ğ›·CT  is different for different types of SiPM junctions;
(iii) absorption of CT photons by silicon before they exit the surface should be accounted for and removed; (iv) anti-reflective coating distort the measurement of ğ›·CT. Additionally, there is no agreement on the underlying physical phenomena explaining photon emission by the hot carriers during the avalanche. Several mechanisms of photon emission have been suggested, which can be divided in two categories: (i) indirect or direct inter-band, corresponding to recombination between electrons and holes; (ii) indirect or direct intra-band transitions such as, for example, Bremsstrahlung or transitions between â€˜â€˜lightâ€™â€™ and â€˜â€˜heavyâ€™â€™ hole bands [31]. Given the large amount of discordant data and the complex shape of reported measurements of ğ›·CT, it  is  most  likely that photon emission from a pn-junction in avalanche condition is the superimposition of different mechanisms, as suggested in [29].
Because optical crosstalk is correlated to a previous event, the time difference between the CT event and the previous event, also defined as the inter-arrival time between the two events, is relevant. Different physical phenomena provide different inter-arrival times and allow distinguishing between two different types of Optical Crosstalk: prompt cross-talk and delayed cross-talk.
Prompt Optical Crosstalk, pCT in short, happens when the cross-talk photon is absorbed in the active volume of a second SPAD, where it generates an eâ€“h pair, as depicted in Fig. 12 and triggers an avalanche. In this case, the sum of the photon travel time from the first to the second SPAD, the carrier drift time, and the time to start the second avalanche is very short, in the order of tens of ps. With typical electronics, it is not possible to distinguish between the start time of the first and second avalanches and we observe two SiPM cells firing at the same time.
The probability of having Crosstalk in a given SPAD, numbered with index i, can be approximated by the following equation:
@8
The Gain is the number of carriers crossing the high-field region during an avalanche. The factor ğ›¼ is the emission coefficient of CT photons by the hot carriers: although there is no complete agreement  in literature, it is estimated between 1 and 5 Ã—  10âˆ’5  [29,32]. The  factor ğ›¾pCT_i is the optical collection efficiency of CT photons originated from the first SPAD in the second SPAD. It depends on the spectrum of the CT photons and on SPAD and SiPM geometry. ğ‘ƒT is the triggering probability of CT photons. It depends on the overvoltage and on the average point of absorption of the CT photons in the ğ‘–th SPAD, which also depends on their emission spectrum.
The total pCT probability of a SiPM is the sum of the pCT proba- bilities of a single SPAD generating a CT event in every possible other
SPAD of the SiPM. We can rewrite the previous equation for the total pCT probability in a SiPM as follows:@9
We point out that pCT is not
correctly defined as a probabiğ‘–=li1ty, because it is possible that more than one CT event is triggered by the avalanche in the first SPAD. Thus, pCT should be interpreted as the mean number of pCT events generated by a single, initial avalanche. The total number of avalanches triggered by an initial event is the sum of the ones directly generated by the first SPAD and the ones generated by all the successors. A possible statistical analysis of the random process is given in [33,34].
A number of assumptions have been made to calculate Eq.  (9). Among them, we have assumed the same ğ‘ƒT_pCT  function  for  every SPAD in the SiPM, while it may change according to the position of the second SPAD with respect to the first one. For example, first neighbor SPADs with respect to one triggering the first avalanche may collect, laterally, CT photons with shorter wavelength than farther SPADs. This can be reflected in a different ğ‘ƒT_pCT  function. We also have assumed     an indefinitely large SiPM active  area,  so  that  ğ‘ƒpCT  does  not  depend on the position of  the  first  SPAD  while,  in  real  devices,  cells  close  to the border may have a different ğ‘ƒpCT,i. Several works  have  been carried out to study these topics, both  using  Monte-Carlo  simulations and experimental methods [32,33,35].
Working on the ğ›¾pCT factor, a significant suppression of the CT photon transmission from cell to cell can be obtained. One simple approach is to make the active region as thin as possible, compatibly  to the wavelength to be detected. This allows a reduction of the useful solid-angle for pCT. Such solution works well for UV light detection. It should be noted that, in this condition, junction capacitance per unit area and, thus avalanche gain and emission of cross-talk photons are increased with respect to a SiPM with a thicker epitaxial layer operated at the same overvoltage. On the other hand, also triggering probability and PDE are higher, because they grow faster with the overvoltage, and similar curves of ğ‘ƒpCT vs. PDE can be assumed. Thus, a net reduction of pCT at the same level of PDE can be expected from the thinner epitaxial layer. Another, very effective and widely adopted approach to pCT reduction relies on the use of deep trenches surrounding each SPAD. Trenches should extend as much as possible into the active thickness and be filled with light-absorbing or light-reflecting material. One of the first examples concerning the use of metal trenches is reported in [36].
We can also observe that different SiPM designs feature different sensitivity to Optical Crosstalk. For example, blue/UV-sensitive SiPMs, besides having a thin active layer, they feature a p+/n junction with maximum triggering probability for electrons generated close to the surface and reduced triggering probability for holes drifting from below the junction. In these conditions, besides ğ›¾pCT, also ğ‘ƒpCT  is reduced. On the contrary, n+/p SiPMs with thick drift layer maximize collection and detection efficiency of CT photons. It can be expected that, in  such designs, the adoption of CT mitigating features be of paramount importance.
Optical CT photons can also be absorbed in the un-depleted region of the second SPAD, as depicted in Fig. 13. In this case, a photo-generated minority carrier can reach the edge of the depleted region by diffusion. Then, it enters the depleted region where it drifts towards the high- field region and can trigger an avalanche. Contrary to pCT, diffusion time can be long enough to distinguish between the start times of the avalanches in the first and second SPAD and to identify two subsequent events. Thus, this type of optical crosstalk is defined as Delayed Optical Crosstalk, or DeCT. Even though the time delay of the second avalanche is governed by the diffusion time of minority carriers, part of the DeCT events will always happen too shortly after the first avalanche and, from the outside, will be misidentified as pCT events. Because the thickness of the superficial un-depleted region of the entrance window is normally very small, we can assume that the most important contribution to DeCT comes from the region below the active area.
Fig. 13. Representation of a Delayed Optical Crosstalk event (DeCT).
Fig. 14. Representation of an External cross-talk event (ExtCT).
Equations similar to (9) can describe DeCT probability@10
In the equation, ğ›¾DeCT takes into account two components: (i) the optical collection efficiency of CT photons in a region from which photo- generated carriers can be collected by diffusion to the depleted region of a SPAD, (ii) the charge collection efficiency by diffusion. Moreover,
ğ‘ƒT_DeCT is the triggering probability of minority  carriers  entering  the high field region from the bottom. For example, it is the pure hole triggering probability for a p+/n SiPM.
From the SiPM structure point of view, DeCT may be reduced in four ways:
â€¢By reducing the un-depleted region thickness, for example re- moving the substrate. This complicates the technology very much because of the need of a support wafer for mechanical stability.
â€¢By using a substrate with very low minority carrier lifetime (short diffusion length) [37]. In this way, we minimize the number of carriers that are able to reach the active layer.
â€¢A third method is by using a buried junction below the active area to prevent diffusion. This approach was introduced in [38]  to minimize the diffusion tail in the measurement of the single- photon time jitter.
â€¢By extending the trenches filled with reflective/absorbing material deep into the substrate to confine the photons within the same SPAD.
A third path for optical cross-talk is possible for photons exiting the silicon. Indeed they can be reflected back by the change of material refractive index and re-enter the SiPM in another SPAD, possibly trigger- ing an avalanche, as shown in Fig. 14. This phenomenon can be defined as External Optical Crosstalk, or ExtCT, as opposed to the standard, Internal Optical Crosstalk described above and defined as IntCT. The reflection mechanism increases the collection efficiency of external CT photons,  ğ›¾extCT,  in  any  given  cell.  Furthermore,  it  may  also  enable  a different part of the CT photon spectrum to trigger avalanches. Indeed, if we consider IntCT only, shorter wavelength photons are most likely absorbed within the same emitter SPAD or in the few micrometers of dead space between adjacent cells and, thus, cannot trigger an avalanche in a second SPAD. On the contrary, if we consider also ExtCT, in many cases the high-field region is only a few hundreds of nanometers below the surface and it is possible that some short wavelength photons exit from the surface and reach another SPAD.
An example of external reflector is the top surface of the resin or the glass layer added to protect the SiPM surface from mechanical   and environmental stresses. The relative increase of the CT probability with the added layer depends, among other factors, on cell size and on the level of IntCT. In devices featuring a very low level of IntCT, for example because internal optical isolation with metal-filled trenches is employed, the additional ExtCT changes the total crosstalk probability significantly. On the other hand, if two SiPMs feature the same amount of optical crosstalk but have different cell sizes, the one with the smaller cell size will show a lower additional amount of ExtCT when placed in a package, because of the lower cell gain, which affects both IntCT and ExtCT, as described in Eq. (10).
Another typical example of reflector enhancing external crosstalk is a scintillator with diffusing/reflecting surfaces. In [39] it was shown that this effect can pose severe limits in the detector performance.
3.3.4.Afterpulsing
Since a large amount of carriers is generated in the high-field region during the avalanche, it is possible that some of them are captured by trapping centers in the high-field region and, then, re-emitted triggering a second avalanche in the same cell. This phenomenon is called After- pulsing, or AP, in short. Trapping centers are modeled as energy levels in the bandgap that can capture and re-emit a carrier either from the valence or the conduction band. The probability that the ith trapping center generates an after-pulsing event can be approximated by the following equation:@11
The term ğ‘ƒ
ğ‘¡ğ‘Ÿğ‘ğ‘_ğ‘–
represents the probability that one of the carriers composing the avalanche current is captured. It is proportional to the
trap cross section, ğœtrap_i and depends on the position of the trap in the high-field region. Indeed, electron and hole current densities during an avalanche are not constant along the junction. The avalanche current   is only composed of electrons at the edge of the high-field region close to the n-side of the junction and decreases to zero at the opposite side. Holes have the opposite trend. Thus, a trapping center will have a much higher probability of capturing electrons if it is located closer to the n-side of the junction. We obtain the probability of filling the trapping center during the avalanche multiplying ğ‘ƒğ‘¡ğ‘Ÿğ‘ğ‘_ğ‘–  by the avalanche Gain, under the assumption of low AP probability and, thus, low ğ‘ƒğ‘¡ğ‘Ÿğ‘ğ‘_ğ‘–. Also the release time is a characteristic of the trapping center. It is a statistical process which follows an exponential decay. The time constant strongly depends on the temperature [40].
ğ‘ƒT_AP_i represents the probability that a trapped carrier triggers an avalanche once it is emitted by the trapping center. It should be noted that only trapping centers in the high field region generate AP. For example, if an electron is trapped and released between the high-field region and the n-side, it will drift to the cathode without passing through the high-field region and will not be able to trigger an avalanche. Trapping probability and triggering probabilities for after pulses have an opposite dependence on the trap z coordinate. For example, considering electrons, ğ‘ƒğ‘¡ğ‘Ÿğ‘ğ‘_ğ‘–  is higher for a trap closer to the cathode while ğ‘ƒT_AP_i  is higher for a trap closer to the anode. Thus, the maximum of ğ‘ƒğ‘‡ _ğ´ğ‘ƒ _ğ‘–
versus trap depth is reached between the two ends of the high field region.
ğ‘ƒT_AP_i  also depends on the bias of the SPAD. In particular, after the    first  avalanche,  the  junction  is  discharged  at   the   breakdown  voltage and cannot trigger any AP event until  its  bias  is  increased  during  the  SPAD recharge.  If  the  trapped  carrier  is  emitted  while  the  SPAD  is only partially recharged, the probability of  triggering  after-pulses  is  reduced.  Because  the   probability   density   of   trapped   carrier   emission is exponential in time, the maximum number of carriers is emitted immediately after the first avalanche. Thus, a hold-off time is always employed before recharging the SPAD to reduce ğ‘ƒT_AP. In dSiPMs, the hold-off time is usually programmable to reduce AP probability to  the  desired level. The trade-off is the reduction of the time during which the SPAD is sensitive to light. In passively quenched and recharged SPADs,      an equivalent hold-off time is implicitly introduced by the exponential recharge of the junction through the quenching resistor. While the SPAD       is being recharged, its overvoltage is much lower than the operating  condition and the triggering probability  is  reduced.  This  equivalent  hold-off time is not programmable but it can be tuned during process fabrication taking into account the typical AP time constants of a given technology.
Trapping centers with different energy levels are usually present in a SPAD. Thus the time distribution of the after-pulsing events after the primary one follows a multi-exponential law.
General guidelines to reduce this type of correlated noise are: minimization of the impurities/defects in the silicon, minimization of the gain and an adequate hold-off time. The last two points are usually specified by the application, so it may not always be possible to adjust them to minimize AP.
3.3.5.Optically-induced afterpulsing
Similar to the Delayed Optical Crosstalk, CT photons generated dur- ing the avalanche in a SPAD can be absorbed in the un-depleted region below the same SPAD; then, the photo-generated carrier may reach the active region by diffusion and re-trigger a discharge. The process  is depicted in Fig. 15 and can be defined as Optically-induced After- pulsing, or OAP, in short. Similar to Optical Crosstalk, the probability of Optically-induced After-pulsing, or ğ‘ƒOAP, can be expressed by the following equation:
ğ‘ƒğ‘‚ğ´ğ‘ƒ â‰… ğºğ‘ğ‘–ğ‘› (ğ‘‚ğ‘‰ ) â‹… ğ›¼ â‹… ğ›¾ğ‘‚ğ´ğ‘ƒ â‹… ğ‘ƒğ‘‡ _ğ‘‚ğ´ğ‘ƒ (ğ‘‚ğ‘‰ )	(12)
The factor ğ›¾OAP includes the detection efficiency of CT photons in a region below the SPAD, from which the photo-generated carriers can subsequently diffuse to the depleted region, and the collection efficiency of these carriers by diffusion. On a qualitative level, we observe that
ğ›¾OAP  may  be  significantly  larger  than  ğ›¾DeCT,  because  the  solid  angle subtended at the average position of the avalanche by the un-depleted region below the SPAD is larger for OAP than for DeCT. Additionally, the mean distance from the avalanche to the un-depleted region below the SPAD is typically smaller in OAP than in DeCT. In the latter, CT photons need to travel on average through at least half the SPAD pitch before  reaching the quasi neutral region below a neighboring SPAD. The actual difference between the two ğ›¾  factors depends also on the spectrum of   CT photons and may be evaluated more in detail through Monte-Carlo simulations.
ğ‘ƒT_OAP depends on the triggering probability of minority carriers entering the high-field region from bottom. However, similarly to After- pulsing, ğ‘ƒT_OAP depends on the SPAD hold-off time (or recharge time constant) and on the diffusion time constant.
Optically induced after-pulsing may be reduced with the same tech- niques used to minimize the Delayed cross-talk (except the trenches). It is interesting to note that a substrate with very low recombination time provides a reduction of both the number of carriers reaching the active region as well as the time distance of the OAP event from the primary event. This means that most probably the secondary carrier will cross the high field region while the SPAD is still in an off (or partially off) condition. So, with a recombination time constant of few tens of nanoseconds, the OAP can be suppressed almost completely.
Fig. 15. Sketch of the optically-induced after-pulsing.
3.4.Timing properties
In addition to the single-photon sensitivity, ultra-high time resolu- tion is one of the key features of SiPMs. The timing performance is evaluated with the Single Photon Timing Resolution, or SPTR, which represents the precision of arrival time estimate of a visible photon, impinging on a random position on the detector surface. The SPTR depends not only on the SiPM parameters but also on the read-out chain. The SPTR is usually measured by shining a very fast light pulse on the SPAD/SiPM, with a very low probability of more than one photon hitting the detector in the same pulse. It is the statistical jitter of the delay between the time reference of the light pulses, usually a trigger signal of the laser source, and the measured arrival time of the SPAD/SiPM signal. The variance can be related to several sources of uncertainty in timing measurement introduced by the detector and by the readout
electronics.
The arrival time distribution typically features a Gaussian plus an exponential tail towards long arrival times. The uncertainty in the time- of-arrival of events within the Gaussian part is caused by five different components: (i) timing jitter of the avalanche build-up, which is a statistical process, and lateral diffusion [8]. (ii) non-uniformity of the electric field across the SPAD active area or among different SPADs in a SiPM and, thus, non-uniformity of the triggering probability [41]. (iii) collection time spread, or CTS, which is the time spread in the collection time of the photo-generated charge from the absorption point to the high-field region; (iv) transient time spread, or TTS, which accounts for the different transit times and shape of the current signal generated by a SPAD when the photon is detected in different positions within the SiPM active area [42]; (v) time jitter caused by noise introduced through the front-end electronics [43]. The first three contributions are related to the single SPAD design, whereas the last two are more related to a SiPM and its size.
The exponential tail, on the other hand, is related to carriers that  are photo-generated in the un-depleted regions and then collected by diffusion. The length of the tail depends on the characteristics of these regions, i.e. thickness and minority carrier lifetime. For example, an important contribution may come from a thick substrate with high recombination lifetime. The tail amplitude, when compared to that of the main Gaussian peak, depends on the probability that a photon is absorbed in the un-depleted region, on the diffusion length and on the collection efficiency of carriers by diffusion. The physical source of the tail is the same as the one of the delayed correlated noise, namely       of DeCT and OAP. Its presence is undesirable in many SPAD/SiPM applications, such as LiDAR and Fluorescence Lifetime Measurements. It can be minimized either by reducing the minority lifetime in the bulk or introducing diffusion barriers from the backside [40].
As mentioned above, the typical shape of the arrival time distribution is often approximated with a Gaussian distribution, but there are a     few important exceptions. TTS is related to SiPM geometry and SPAD connection scheme and is typically non-gaussian. CTS is important in the case of a thick drift region, so that it takes significantly different
time for carriers photo-generated at different depths in the silicon to reach the high-field region. This can be the case, for example, of NIR- enhanced SPADs with very thick active layer. This contribution is also non-gaussian.
Another contribution to the timing jitter is the non-uniformity of the electric field from the center to the border of the active area. Indeed, as described in Section 3.2, the field at the edges of the active area decreases to low values, ideally to  zero,  thanks  to  the  guard ring structures. At the edges, the avalanche triggering probability, the avalanche build-up properties and the current signal generated by the avalanche are different than at the center. Thus, if the SPTR is measured shining photons randomly in all regions, we obtain a worse SPTR value compared to the case of light focused only on the inner part. This effect was measured in [41,44] by using two SPADs with the same size but one with exposed border region, the other with masked (by the metal layer) one. The SPTR improves considerably in the second case, decreasing from 40 to 20 ps FWHM.
As regards the electronic noise contribution, the main SiPM pa- rameter is its output capacitance, or ğ¶out . If a leading edge triggering (LED) scheme is used for time pick-off, the timing jitter caused by the amplitude the baseline noise can be expressed as:@13
In the equation, ğœt is the standard deviation of the timing jitter, ğœa is the standard deviation of baseline amplitude noise and dy/dt threshold is the mean slope of the signal at the triggering threshold. For a given set of parameters of the front-end electronics, ğ¶out has two main effects:
(i) it increases the noise at the output of the amplifier, by changing the noise power spectrum [45]; (ii) it reduces the slope of the rising edge of the single-carrier response, thus increasing ğœt . Both effects are increased with increasing value of ğ¶out . This has found to be the main contribution to the measured single photon time jitter in large area devices (larger than 1 mm2) in case of blue/UV sensitive SiPMs. In this case, a SPTR of about 40 and 180 ps FWHM was measured for a single SPAD and a 3 Ã— 3 mm2 SiPM (with the same SPAD layout) respectively [43].
4.Conclusion
As of today, the performance of densely packed SPAD arrays and SiPMs has reached different levels depending mainly on the peak sensitivity wavelength. In case of the detection of UV/blue light, de- velopment has been driven by medical imaging applications, mainly Positron Emission Tomography, and high-energy physics experiments and has occurred during the last 10 years. The improvement has been impressive: starting from peak PDE around 15% at the beginning of developments, the state-of-the-art at the time of writing allows a PDE in excess of 60% around 400 nm. SiPMs have evolved from being a promising but lower performance alternative to Photomultiplier Tubes to a better performing device in many applications. Because technology is getting closer to maturity, all the major manufacturers of analog SiPMs are closing the gap with respect to the typical state-of-the-art performance, at least as regards the main SiPM figure of merit. As an indication, typical values are summarized in the following table.This condition is very important to foster the adoption of the SiPM technology by industry, for example in the medical imaging field, whichcannot update the design of a product too often and thus needs a relatively stable technology to rely on.
In this field of application, a Digital SiPM, has been developed by Philips under the name of PDPC or Philips Digital Photon Counting. Also other research projects have demonstrated interesting dSiPM implemen- tations [46]. Arguments in favor of dSiPMs are the ease of readout and the fact that the performance that can be achieved with a single sensor is easily obtained also at the system level, because the sensor output is already digitized. Additionally, some degree of advanced processing of data can be carried out at the sensor level. However, because dSiPMs are generally not manufactured with a fully custom technology, electro optical performance is currently not at the same level as that of the aSiPM, reported in the above table.
Even though aSiPM technology has reached important milestones for the blue/UV part of the spectrum, further developments aimed at improving specific aspects of the SiPM performance are ongoing. One example is the reduction of the Optical Crosstalk. This parameter is very important to maximize trigger efficiency in applications such as Cherenkov Telescope Array [47] but affects also timing performance in PET [48]. Another important activity is the optimization of SiPM interconnection techniques with the addition of Through Silicon Vias (TSV). By removing the bond wire, this technique allows an improved design of the optical stack on top of the SiPM, better coupling to       the scintillator and, possibly, also a reduction of the External Optical
Crosstalk. TSVs are also expected to increase reliability and to improve signal integrity and time jitter.Finally, evolution of blue/UV-sensitive SiPM points towards special- ized applications, such as the use of SiPM at cryogenic applications [49] or the extension of sensitivity towards the vacuum ultra violet (VUV) or increased radiation tolerance.
Considering the other end of SiPM sensitivity spectrum, development of NIR-sensitive SiPM has started in recent years mainly driven by the requirements of automotive LIDAR applications. In this case, R&D faces the obvious challenge of obtaining good PDE in the range of 800 to 950 nm notwithstanding the long absorption length in silicon (above 30 um at 900 nm). Several changes to typical SiPM technologies will most likely be necessary to achieve the desired performance, including the redesign of the electric field inside the microcells and the use of light trapping techniques. Current-generation NIR-sensitive SiPMs, feature a PDE lower than 15% at 905 nm with a SPAD pitch of 25 um. Because the SPAD depletion thickness is usually increased, DCR is higher and Breakdown/Gain uniformity and breakdown temperature coefficients are worse with respect to standard SiPMs. Optical cross-talk is also increased in NIR-sensitive devices, because the improved sensitivity to NIR light also increases the probability of detecting crosstalk photons. On the other hand, NIR-SiPM development can be considered today  in a similar condition as the blue/UV-sensitive SiPM development was 10 years ago. Thus, it is a very challenging R&D topic but there is reason to expect major improvements in the next few years.
Acknowledgments
The authors would like to thank all the colleagues at Fondazione Bruno Kessler who contributed to the SiPM topic during these years. Furthemore, we are grateful to Fondazione Bruno Kessler and Istituto Nazionale di Fisica Nucleare for the constant support and cooperation.
